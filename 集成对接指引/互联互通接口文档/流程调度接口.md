# 流程调度接口

> v1.0.0

# 流程调度接口/东西向

## POST 创建作业-调度方（create_job_all）

POST /v1/interconn/schedule/job/create_all

发起方向调度方发送创建作业请求时调用的接口

> Body 请求参数

```json
{
  "job_id": "string",
  "flow_id": "string",
  "dag": {
    "version": "string",
    "components": [
      {
        "name": "string",
        "code": "string",
        "version": "string",
        "module_name": "string",
        "input": [
          {
            "key": null,
            "type": null
          }
        ],
        "output": [
          {
            "key": null,
            "type": null
          }
        ]
      }
    ]
  },
  "config": {
    "version": "string",
    "initiator": {
      "role": "string",
      "node_id": "string"
    },
    "role": {
      "guest": [
        "string"
      ],
      "host": [
        "string"
      ],
      "arbiter": [
        "string"
      ]
    },
    "job_params": {
      "common": {},
      "guest": {},
      "host": {},
      "arbiter": {}
    },
    "task_params": {
      "common": {},
      "guest": {},
      "host": {},
      "arbiter": {}
    }
  }
}
```

### 请求参数

| 名称            | 位置 | 类型                    | 必选 | 中文名              | 说明                                     |
| --------------- | ---- | ----------------------- | ---- | ------------------- | ---------------------------------------- |
| body            | body | object                  | 否   |                     | none                                     |
| » job_id        | body | string                  | 是   | 作业ID              | 全局唯一，由发起方生成                   |
| » flow_id       | body | string                  | 否   | 流程ID              | 作业所属流程ID                           |
| » dag           | body | [DAG](#schemadag)       | 是   | 流程中组件组合配置  | 描述组件组合流程的配置信息               |
| »» version      | body | string                  | 是   | 版本                | DAG配置版本信息                          |
| »» components   | body | [object]                | 是   | 组件列表            | 所有组件集合                             |
| »»» name        | body | string                  | 是   | 组件名称            | none                                     |
| »»» code        | body | string                  | 是   | 组件编码            | none                                     |
| »»» version     | body | string                  | 是   | 组件版本            | none                                     |
| »»» module_name | body | string                  | 是   | 模块名称            | 组件对应的模块名称                       |
| »»» input       | body | [object]                | 是   | 组件输入信息        | none                                     |
| »»»» key        | body | string                  | 是   | 输入名称            | none                                     |
| »»»» type       | body | string                  | 是   | 输入类型            | none                                     |
| »»» output      | body | [object]                | 是   | 组件输出信息        | none                                     |
| »»»» key        | body | string                  | 是   | 输出名称            | none                                     |
| »»»» type       | body | string                  | 是   | 输出类型            | none                                     |
| » config        | body | [Config](#schemaconfig) | 是   | 作业运行配置        | 作业参与方节点信息和每个组件参数配置等等 |
| »» version      | body | string                  | 是   | 版本信息            | Config配置的版本信息                     |
| »» initiator    | body | object                  | 是   | 发起方节点信息      | none                                     |
| »»» role        | body | string                  | 是   | 节点角色            | guest、host、arbiter等等                 |
| »»» node_id     | body | string                  | 是   | 节点ID              | none                                     |
| »» role         | body | object                  | 是   | 参与方节点集合      | none                                     |
| »»» guest       | body | [string]                | 是   | guest节点           | none                                     |
| »»» host        | body | [string]                | 是   | host节点            | none                                     |
| »»» arbiter     | body | [string]                | 是   | arbiter节点         | none                                     |
| »» job_params   | body | object                  | 是   | 作业参数配置        | none                                     |
| »»» common      | body | object                  | 是   | 节点间共用参数配置  | none                                     |
| »»» guest       | body | object                  | 是   | guest节点参数配置   | key为从0开始的序号                       |
| »»» host        | body | object                  | 是   | host节点参数配置    | key为从0开始的序号                       |
| »»» arbiter     | body | object                  | 是   | arbiter节点参数配置 | key为从0开始的序号                       |
| »» task_params  | body | object                  | 是   | 任务参数配置        | none                                     |
| »»» common      | body | object                  | 是   | 节点间共用参数配置  | none                                     |
| »»» guest       | body | object                  | 是   | guest节点参数配置   | key为从0开始的序号                       |
| »»» host        | body | object                  | 是   | host节点参数配置    | key为从0开始的序号                       |
| »»» arbiter     | body | object                  | 是   | arbiter节点参数配置 | none                                     |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## POST 创建作业（create_job）

POST /v1/interconn/schedule/job/create

发起方或调度方向所有参与方发送创建作业请求时调用的接口

> Body 请求参数

```json
{
  "job_id": "string",
  "flow_id": "string",
  "dag": {
    "version": "string",
    "components": [
      {
        "name": "string",
        "code": "string",
        "version": "string",
        "module_name": "string",
        "input": [
          {
            "key": null,
            "type": null
          }
        ],
        "output": [
          {
            "key": null,
            "type": null
          }
        ]
      }
    ]
  },
  "config": {
    "version": "string",
    "initiator": {
      "role": "string",
      "node_id": "string"
    },
    "role": {
      "guest": [
        "string"
      ],
      "host": [
        "string"
      ],
      "arbiter": [
        "string"
      ]
    },
    "job_params": {
      "common": {},
      "guest": {},
      "host": {},
      "arbiter": {}
    },
    "task_params": {
      "common": {},
      "guest": {},
      "host": {},
      "arbiter": {}
    }
  }
}
```

### 请求参数

| 名称            | 位置 | 类型                    | 必选 | 中文名              | 说明                                     |
| --------------- | ---- | ----------------------- | ---- | ------------------- | ---------------------------------------- |
| body            | body | object                  | 否   |                     | none                                     |
| » job_id        | body | string                  | 是   | 作业ID              | 全局唯一，由发起方生成                   |
| » flow_id       | body | string                  | 否   | 流程ID              | 作业所属流程ID                           |
| » dag           | body | [DAG](#schemadag)       | 是   | 流程中组件组合配置  | 描述组件组合流程的配置信息               |
| »» version      | body | string                  | 是   | 版本                | DAG配置版本信息                          |
| »» components   | body | [object]                | 是   | 组件列表            | 所有组件集合                             |
| »»» name        | body | string                  | 是   | 组件名称            | none                                     |
| »»» code        | body | string                  | 是   | 组件编码            | none                                     |
| »»» version     | body | string                  | 是   | 组件版本            | none                                     |
| »»» module_name | body | string                  | 是   | 模块名称            | 组件对应的模块名称                       |
| »»» input       | body | [object]                | 是   | 组件输入信息        | none                                     |
| »»»» key        | body | string                  | 是   | 输入名称            | none                                     |
| »»»» type       | body | string                  | 是   | 输入类型            | none                                     |
| »»» output      | body | [object]                | 是   | 组件输出信息        | none                                     |
| »»»» key        | body | string                  | 是   | 输出名称            | none                                     |
| »»»» type       | body | string                  | 是   | 输出类型            | none                                     |
| » config        | body | [Config](#schemaconfig) | 是   | 作业运行配置        | 作业参与方节点信息和每个组件参数配置等等 |
| »» version      | body | string                  | 是   | 版本信息            | Config配置的版本信息                     |
| »» initiator    | body | object                  | 是   | 发起方节点信息      | none                                     |
| »»» role        | body | string                  | 是   | 节点角色            | guest、host、arbiter等等                 |
| »»» node_id     | body | string                  | 是   | 节点ID              | none                                     |
| »» role         | body | object                  | 是   | 参与方节点集合      | none                                     |
| »»» guest       | body | [string]                | 是   | guest节点           | none                                     |
| »»» host        | body | [string]                | 是   | host节点            | none                                     |
| »»» arbiter     | body | [string]                | 是   | arbiter节点         | none                                     |
| »» job_params   | body | object                  | 是   | 作业参数配置        | none                                     |
| »»» common      | body | object                  | 是   | 节点间共用参数配置  | none                                     |
| »»» guest       | body | object                  | 是   | guest节点参数配置   | key为从0开始的序号                       |
| »»» host        | body | object                  | 是   | host节点参数配置    | key为从0开始的序号                       |
| »»» arbiter     | body | object                  | 是   | arbiter节点参数配置 | key为从0开始的序号                       |
| »» task_params  | body | object                  | 是   | 任务参数配置        | none                                     |
| »»» common      | body | object                  | 是   | 节点间共用参数配置  | none                                     |
| »»» guest       | body | object                  | 是   | guest节点参数配置   | key为从0开始的序号                       |
| »»» host        | body | object                  | 是   | host节点参数配置    | key为从0开始的序号                       |
| »»» arbiter     | body | object                  | 是   | arbiter节点参数配置 | none                                     |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## POST 启动作业（start_job）

POST /v1/interconn/schedule/job/start

发起方或调度方向所有参与方发送启动作业请求时调用的接口，每个参与方只会被请求一次，当某个参与方包含多个角色时，有参与方自己根据作业配置将不同角色的任务启动

> Body 请求参数

```json
{
  "job_id": "string"
}
```

### 请求参数

| 名称     | 位置 | 类型   | 必选 | 中文名 | 说明     |
| -------- | ---- | ------ | ---- | ------ | -------- |
| body     | body | object | 否   |        | none     |
| » job_id | body | string | 是   | 作业ID | 全局唯一 |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## POST 启动任务（start_task）

POST /v1/interconn/schedule/task/start

发起方或调度方向所有参与方发送启动任务请求时调用的接口

> Body 请求参数

```json
{
  "task_id": "string",
  "job_id": "string",
  "task_name": "string"
}
```

### 请求参数

| 名称        | 位置 | 类型   | 必选 | 中文名   | 说明                           |
| ----------- | ---- | ------ | ---- | -------- | ------------------------------ |
| body        | body | object | 否   |          | none                           |
| » task_id   | body | string | 是   | 任务ID   | 全局唯一，由发起方或调度方生成 |
| » job_id    | body | string | 是   | 作业ID   | 全局唯一                       |
| » task_name | body | string | 是   | 组件名称 | 对应DAG中的component_name      |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## POST 停止作业-调度方（stop_job_all）

POST /v1/interconn/schedule/job/stop_all

发起方向调度方发送停止作业请求时调用的接口

> Body 请求参数

```json
{
  "job_id": "string",
  "task_name": "string"
}
```

### 请求参数

| 名称        | 位置 | 类型   | 必选 | 中文名   | 说明                                                         |
| ----------- | ---- | ------ | ---- | -------- | ------------------------------------------------------------ |
| body        | body | object | 否   |          | none                                                         |
| » job_id    | body | string | 是   | 作业ID   | 全局唯一                                                     |
| » task_name | body | string | 否   | 组件名称 | 对应作业DAG中起点的component_name 当该值不为空时，该任务被停止后，其后的所有任务都停止 当该值为空时，停止作业下的所有任务 |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## POST 停止作业（stop_job）

POST /v1/interconn/schedule/job/stop

发起方或调度方向所有参与方发送停止作业请求时调用的接口

> Body 请求参数

```json
{
  "job_id": "string",
  "task_name": "string"
}
```

### 请求参数

| 名称        | 位置 | 类型   | 必选 | 中文名   | 说明                                                         |
| ----------- | ---- | ------ | ---- | -------- | ------------------------------------------------------------ |
| body        | body | object | 否   |          | none                                                         |
| » job_id    | body | string | 是   | 作业ID   | 全局唯一                                                     |
| » task_name | body | string | 否   | 组件名称 | 对应作业DAG中起点的component_name 当该值不为空时，该任务被停止后，其后的所有任务都停止 当该值为空时，停止作业下的所有任务 |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## GET 查询作业状态-调度方（job_status_all）

GET /v1/interconn/schedule/job/status_all

某个参与方向调度方发起查询作业状态时调用的接口

### 请求参数

| 名称   | 位置  | 类型   | 必选 | 中文名 | 说明   |
| ------ | ----- | ------ | ---- | ------ | ------ |
| job_id | query | string | 是   |        | 作业ID |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "job_status": "string",
    "status": {}
  }
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称          | 类型    | 必选 | 约束 | 中文名             | 说明                                              |
| ------------- | ------- | ---- | ---- | ------------------ | ------------------------------------------------- |
| » code        | integer | true | none | 状态码             | 200正常，否则错误                                 |
| » msg         | string  | true | none | 错误信息           | none                                              |
| » data        | object  | true | none | 响应数据内容       | none                                              |
| »» job_status | string  | true | none | 作业状态           | 状态有PENDING、READY、REJECTED、RUNNING、FINISHED |
| »» status     | object  | true | none | 作业中所有任务状态 | none                                              |

## POST 查询任务回调信息（poll）

POST /v1/interconn/schedule/task/poll

发起方或调度方向所有参与方查询任务回调信息时调用的接口

> Body 请求参数

```json
{
  "task_id": "string",
  "role": "string"
}
```

### 请求参数

| 名称      | 位置 | 类型   | 必选 | 中文名 | 说明                 |
| --------- | ---- | ------ | ---- | ------ | -------------------- |
| body      | body | object | 否   |        | none                 |
| » task_id | body | string | 是   | 任务ID | none                 |
| » role    | body | string | 是   | 角色   | 当前回调节点所属角色 |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "status": "string"
  }
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称      | 类型    | 必选 | 约束 | 中文名       | 说明                                     |
| --------- | ------- | ---- | ---- | ------------ | ---------------------------------------- |
| » code    | integer | true | none | 状态码       | 200正常，否则错误                        |
| » msg     | string  | true | none | 错误信息     | none                                     |
| » data    | object  | true | none | 响应数据内容 | none                                     |
| »» status | string  | true | none | 状态         | PENDING、READY、RUNNING、SUCCESS、FAILED |

## POST 推送任务回调信息（callback）

POST /v1/interconn/schedule/task/callback

任意参与方向发起方或调度方向推送任务回调信息时调用的接口

> Body 请求参数

```json
{
  "task_id": "string",
  "status": "string",
  "role": "string"
}
```

### 请求参数

| 名称      | 位置 | 类型   | 必选 | 中文名   | 说明                                     |
| --------- | ---- | ------ | ---- | -------- | ---------------------------------------- |
| body      | body | object | 否   |          | none                                     |
| » task_id | body | string | 是   | 任务ID   | none                                     |
| » status  | body | string | 是   | 任务状态 | PENDING、READY、RUNNING、SUCCESS、FAILED |
| » role    | body | string | 是   | 角色     | 当前回调节点所属角色                     |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

## POST 作业审批确认（audit_confirm）

POST /v1/interconn/schedule/job/audit_confirm

某个参与方向调度方或发起方作业审批结果时调用的接口

> Body 请求参数

```json
{
  "job_id": "string",
  "status": "string"
}
```

### 请求参数

| 名称     | 位置 | 类型   | 必选 | 中文名   | 说明            |
| -------- | ---- | ------ | ---- | -------- | --------------- |
| body     | body | object | 否   |          | none            |
| » job_id | body | string | 是   | 作业ID   | none            |
| » status | body | string | 是   | 作业状态 | READY、REJECTED |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

# 流程调度接口/南北向

## POST 创建作业（create_job_all）

POST /v1/platform/schedule/job/create_all

发起方发起创建作业配置，并发送给己方调度层时调用的接口

> Body 请求参数

```json
{
  "flow_id": "string",
  "dag": {
    "version": "string",
    "components": [
      {
        "name": "string",
        "code": "string",
        "version": "string",
        "module_name": "string",
        "input": [
          {
            "key": null,
            "type": null
          }
        ],
        "output": [
          {
            "key": null,
            "type": null
          }
        ]
      }
    ]
  },
  "config": {
    "version": "string",
    "initiator": {
      "role": "string",
      "node_id": "string"
    },
    "role": {
      "guest": [
        "string"
      ],
      "host": [
        "string"
      ],
      "arbiter": [
        "string"
      ]
    },
    "job_params": {
      "common": {},
      "guest": {},
      "host": {},
      "arbiter": {}
    },
    "task_params": {
      "common": {},
      "guest": {},
      "host": {},
      "arbiter": {}
    }
  }
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» flow_id|body|string| 否 | 流程ID|该参数调度层不会使用，只会用来存储flow和job的对应关系|
|» dag|body|[DAG](#schemadag)| 是 | 流程中组件组合配置|描述组件组合流程的配置信息|
|»» version|body|string| 是 | 版本|DAG配置版本信息|
|»» components|body|[object]| 是 | 组件列表|所有组件集合|
|»»» name|body|string| 是 | 组件名称|none|
|»»» code|body|string| 是 | 组件编码|none|
|»»» version|body|string| 是 | 组件版本|none|
|»»» module_name|body|string| 是 | 模块名称|组件对应的模块名称|
|»»» input|body|[object]| 是 | 组件输入信息|none|
|»»»» key|body|string| 是 | 输入名称|none|
|»»»» type|body|string| 是 | 输入类型|none|
|»»» output|body|[object]| 是 | 组件输出信息|none|
|»»»» key|body|string| 是 | 输出名称|none|
|»»»» type|body|string| 是 | 输出类型|none|
|» config|body|[Config](#schemaconfig)| 是 | 作业运行配置|作业参与方节点信息和每个组件参数配置等等|
|»» version|body|string| 是 | 版本信息|Config配置的版本信息|
|»» initiator|body|object| 是 | 发起方节点信息|none|
|»»» role|body|string| 是 | 节点角色|guest、host、arbiter等等|
|»»» node_id|body|string| 是 | 节点ID|none|
|»» role|body|object| 是 | 参与方节点集合|none|
|»»» guest|body|[string]| 是 | guest节点|none|
|»»» host|body|[string]| 是 | host节点|none|
|»»» arbiter|body|[string]| 是 | arbiter节点|none|
|»» job_params|body|object| 是 | 作业参数配置|none|
|»»» common|body|object| 是 | 节点间共用参数配置|none|
|»»» guest|body|object| 是 | guest节点参数配置|key为从0开始的序号|
|»»» host|body|object| 是 | host节点参数配置|key为从0开始的序号|
|»»» arbiter|body|object| 是 | arbiter节点参数配置|key为从0开始的序号|
|»» task_params|body|object| 是 | 任务参数配置|none|
|»»» common|body|object| 是 | 节点间共用参数配置|none|
|»»» guest|body|object| 是 | guest节点参数配置|key为从0开始的序号|
|»»» host|body|object| 是 | host节点参数配置|key为从0开始的序号|
|»»» arbiter|body|object| 是 | arbiter节点参数配置|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "job_id": "string"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|
|»» job_id|string|true|none|作业ID|全局唯一|

## POST 停止作业（stop_job_all）

POST /v1/platform/schedule/job/stop_all

发起方向己方调度层发起停止作业时调用的接口

> Body 请求参数

```json
{
  "job_id": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» job_id|body|string| 是 | 作业ID|全局唯一|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|

## GET 查询作业状态（job_status_all）

GET /v1/platform/schedule/job/status_all

某个参与方向己方调度层发起查询作业状态时调用的接口

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|job_id|query|string| 是 ||作业ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "job_status": "string",
    "status": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|
|»» job_status|string|true|none|作业状态|状态有PENDING、READY、REJECTED、RUNNING、FINISHED|
|»» status|object|false|none|作业中任务状态集合|作业中所有任务的状态，key为task_id，value为任务的状态，任务状态有READY、RUNNING、SUCCESS、FAILED|

## GET 查询任务日志行数（get_task_log_line）

GET /v1/platform/schedule/task/get_log_line

某个参与方节点上层服务向调度层获取任务运行日志行数时调用的接口

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|task_id|query|string| 是 ||任务ID|
|log_level|query|string| 是 ||日志类型，info/debug/error|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "num": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|
|»» num|integer|true|none|日志行数|none|

## GET 查询任务日志（get_task_log）

GET /v1/platform/schedule/task/get_log

某个参与方节点上层服务向调度层获取任务运行日志内容时调用的接口

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|task_id|query|string| 是 ||任务ID|
|log_level|query|string| 是 ||日志类型，info/debug/error|
|start|query|integer| 是 ||日志起始行|
|length|query|integer| 否 ||查询的日志行数，为空则返回起始行后的所有内容|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "data": "string"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|
|»» data|string|true|none|日志内容|none|



## GET 查询作业列表（query_job_list）

GET /v1/platform/schedule/job/query_job_list

某个参与方向己方调度层发起查询作业列表时调用的接口

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|flow_id|query|string| 否 ||流程ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {
    "job_list": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|
|»» job_list|object|true|none|作业列表|作业列表，key为job_id，value为作业的状态，作业状态有PENDING、READY、REJECTED、RUNNING、FINISHED|

## POST 停止任务（stop_task）

POST /v1/platform/schedule/job/stop_task

发起方向己方调度层发起停止任务时调用的接口

> Body 请求参数

```json
{
  "job_id": "string",
  "task_name": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» job_id|body|string| 是 | 作业ID|none|
|» task_name|body|string| 是 | 组件名称|对应作业DAG中起点的component_name|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|[response](#schemaresponse)|

## POST 组件注册（component_register）

POST /v1/platform/schedule/component/register

> Body 请求参数

```json
{
  "imageUrl": "string",
  "component_info": {
    "componentName": "string",
    "title": "string",
    "provider": "string",
    "version": "string",
    "description": "string",
    "roleList": [
      "string"
    ],
    "desVersion": "string",
    "storageEngine": [
      "string"
    ],
    "inputParam": [
      {
        "name": "string",
        "title": "string",
        "description": "string",
        "type": "string",
        "bindingData": [
          {}
        ],
        "optional": true,
        "defaultValue": "string",
        "validator": "string",
        "dependsOn": [
          "string"
        ],
        "UIPattern": "string",
        "groupTag": [
          "string"
        ],
        "UIType": "string"
      }
    ],
    "inputData": [
      {
        "name": "string",
        "description": "string",
        "category": "string",
        "dataFormat": [
          "string"
        ]
      }
    ],
    "outputData": [
      {
        "name": "string",
        "description": "string",
        "category": "string",
        "dataFormat": [
          "string"
        ]
      }
    ],
    "result": [
      {
        "resultCode": "string",
        "resultMessage": "string"
      }
    ]
  }
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» imageUrl|body|string| 是 | 算法组件镜像地址|none|
|» component_info|body|[ComponentInfo](#schemacomponentinfo)| 是 | 算法组件信息|none|
|»» componentName|body|string| 是 | 算法组件名称|跟算法容器的环境变量相对应|
|»» title|body|string| 是 | 页面显示名称|none|
|»» provider|body|string| 是 | 算法提供商|none|
|»» version|body|string| 是 | 算法版本|none|
|»» description|body|string| 否 | 算法描述信息|none|
|»» roleList|body|[string]| 是 | 算法支持的角色定义|数组类型。例如：["guest", "host","arbiter"]|
|»» desVersion|body|string| 否 | 描述文件版本|none|
|»» storageEngine|body|[string]| 是 | 算法组件所支持的存储引擎|数组类型。如：["s3", "hdfs","eggroll"]|
|»» inputParam|body|[[InputParam](#schemainputparam)]| 是 | 算法输入参数|none|
|»»» 组件算法输入参数|body|[InputParam](#schemainputparam)| 否 | 组件算法输入参数|none|
|»»»» name|body|string| 是 | 形式参数名称|跟算法容器的环境变量相对应|
|»»»» title|body|string| 是 | 页面显示字段标题|none|
|»»»» description|body|string| 否 | 参数描述|none|
|»»»» type|body|string| 是 | 输入参数类型|string：字符串类型 int: 整数类型 float: 浮点数类型 boolean: 布尔类型 integer: 整型对象，可以为null number: 数值型，包括整数和小数（当不具体区分整型和浮点型时采用该种类型） object: 复杂类型,可以使用json表示,前端就具体的json数据结构可扩展相关控件。 ...等其他类型|
|»»»» bindingData|body|[object]| 否 | 可枚举的静态绑定数据|可枚举的静态绑定数据,可以引用外部其它函数获取控件绑定的数据,如可渲染下拉菜单、单选框、多选框等的数据获取方式 例如1:静态绑定数据 bindingData:"[{label: "${label}",value: "${value}"}]",其中是可以执行的 kv Json，格式参考为kv数组。  例如2:动态绑定数据 bindingData:"call_function getKV()"。//定义一个调用的回调函数获取数据， 这里的call_function作为一个函数调用的标识符使用，解析执行器使用call_function作为标识符判断，用于与静态值区别， 后面的getKV()，解析执行器需要保障执行上下文中存在可调用的getKV()函数，getKV()的函数命名，在实际使用中，可自定义。|
|»»»» optional|body|boolean| 是 | 参数是否可选|默认为true表示可选,false表示必填|
|»»»» defaultValue|body|string| 否 | 参数默认值|none|
|»»»» validator|body|string| 否 | 参数校验器|如可以写成 regular:'正则表达式',来做正则验证；使用（inf,sup）来对数值的上下界限进行限定|
|»»»» dependsOn|body|[string]| 否 | 算法的条件参数|只用于bindingData,表示算法的条件参数，用于组件内部依赖关系展示,默认为空值。若依赖于上游参数，则提供依赖列表，如：["param.value",""]|
|»»»» UIPattern|body|string| 否 | 参数的UI模式|默认为editeable,此外有readOnly表示只读,hidden,表示隐藏控件|
|»»»» groupTag|body|[string]| 否 | 分组标签|用于分组显示,如[默认分组-显示、高级分组-默认不显示]|
|»»»» UIType|body|string| 否 | 前端参数控件类型|默认为input,其它的比如textArea,numberPicker、checkbox、redio、switch、select、selectTree等|
|»» inputData|body|[[InputData](#schemainputdata)]| 是 | 算法组件输入数据|none|
|»»» 组件输入数据|body|[InputData](#schemainputdata)| 否 | 组件输入数据|none|
|»»»» name|body|string| 是 | 形式参数名称|跟算法容器的环境变量相对应|
|»»»» description|body|string| 否 | 数据描述信息|none|
|»»»» category|body|string| 是 | 数据类型|model、dataset、training_set、test_set、datasets（多个数据文件）|
|»»»» dataFormat|body|[string]| 是 | 数据文件格式|数组类型。如：["csv","pmml","json","yaml","zip"]|
|»» outputData|body|[[OutputData](#schemaoutputdata)]| 是 | 算法组件输出数据|none|
|»»» 组件输出数据|body|[OutputData](#schemaoutputdata)| 否 | 组件输出数据|none|
|»»»» name|body|string| 是 | 形式参数名称|跟算法容器的环境变量相对应|
|»»»» description|body|string| 否 | 数据描述信息|none|
|»»»» category|body|string| 是 | 数据类型|model、dataset、training_set、test_set、report、metric|
|»»»» dataFormat|body|[string]| 是 | 数据文件格式|数组类型。如：["csv","pmml","json","yaml","zip"]|
|»» result|body|[[Result](#schemaresult)]| 是 | 算法组件异常信息|none|
|»»» 组件结果信息|body|[Result](#schemaresult)| 否 | 组件结果信息|none|
|»»»» resultCode|body|string| 是 | 结果编码|none|
|»»»» resultMessage|body|string| 是 | 结果提示信息|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|状态码|200正常，否则错误|
|» msg|string|true|none|错误信息|none|
|» data|object|true|none|响应数据内容|none|

# 流程调度接口/算法信息回调接口

## POST 回调任务信息（callback）

POST /v1/platform/schedule/task/callback

某个参与方的算法组件层将任务运行的状态等回调信息推送给调度层时调用的接口

> Body 请求参数

```json
{
  "task_id": "string",
  "status": "string",
  "role": "string"
}
```

### 请求参数

| 名称      | 位置 | 类型   | 必选 | 中文名   | 说明                     |
| --------- | ---- | ------ | ---- | -------- | ------------------------ |
| body      | body | object | 否   |          | none                     |
| » task_id | body | string | 是   | 任务ID   | none                     |
| » status  | body | string | 是   | 任务状态 | RUNNING、SUCCESS、FAILED |
| » role    | body | string | 是   | 角色     | 回调任务节点所属角色     |

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称   | 类型    | 必选 | 约束 | 中文名       | 说明              |
| ------ | ------- | ---- | ---- | ------------ | ----------------- |
| » code | integer | true | none | 状态码       | 200正常，否则错误 |
| » msg  | string  | true | none | 错误信息     | none              |
| » data | object  | true | none | 响应数据内容 | none              |

# 数据模型

<h2 id="tocS_ComponentInfo">ComponentInfo</h2>

<a id="schemacomponentinfo"></a>
<a id="schema_ComponentInfo"></a>
<a id="tocScomponentinfo"></a>
<a id="tocscomponentinfo"></a>

```json
{
  "componentName": "string",
  "title": "string",
  "provider": "string",
  "version": "string",
  "description": "string",
  "roleList": [
    "string"
  ],
  "desVersion": "string",
  "storageEngine": [
    "string"
  ],
  "inputParam": [
    {
      "name": "string",
      "title": "string",
      "description": "string",
      "type": "string",
      "bindingData": [
        {}
      ],
      "optional": true,
      "defaultValue": "string",
      "validator": "string",
      "dependsOn": [
        "string"
      ],
      "UIPattern": "string",
      "groupTag": [
        "string"
      ],
      "UIType": "string"
    }
  ],
  "inputData": [
    {
      "name": "string",
      "description": "string",
      "category": "string",
      "dataFormat": [
        "string"
      ]
    }
  ],
  "outputData": [
    {
      "name": "string",
      "description": "string",
      "category": "string",
      "dataFormat": [
        "string"
      ]
    }
  ],
  "result": [
    {
      "resultCode": "string",
      "resultMessage": "string"
    }
  ]
}

```

## 组件注册信息

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|componentName|string|true|none|算法组件名称|跟算法容器的环境变量相对应|
|title|string|true|none|页面显示名称|none|
|provider|string|true|none|算法提供商|none|
|version|string|true|none|算法版本|none|
|description|string|false|none|算法描述信息|none|
|roleList|[string]|true|none|算法支持的角色定义|数组类型。例如：["guest", "host","arbiter"]|
|desVersion|string|false|none|描述文件版本|none|
|storageEngine|[string]|true|none|算法组件所支持的存储引擎|数组类型。如：["s3", "hdfs","eggroll"]|
|inputParam|[[InputParam](#schemainputparam)]|true|none|算法输入参数|none|
|inputData|[[InputData](#schemainputdata)]|true|none|算法组件输入数据|none|
|outputData|[[OutputData](#schemaoutputdata)]|true|none|算法组件输出数据|none|
|result|[[Result](#schemaresult)]|true|none|算法组件异常信息|none|

<h2 id="tocS_Result">Result</h2>

<a id="schemaresult"></a>
<a id="schema_Result"></a>
<a id="tocSresult"></a>
<a id="tocsresult"></a>

```json
{
  "resultCode": "string",
  "resultMessage": "string"
}

```

## 组件结果信息

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|resultCode|string|true|none|结果编码|none|
|resultMessage|string|true|none|结果提示信息|none|

<h2 id="tocS_OutputData">OutputData</h2>

<a id="schemaoutputdata"></a>
<a id="schema_OutputData"></a>
<a id="tocSoutputdata"></a>
<a id="tocsoutputdata"></a>

```json
{
  "name": "string",
  "description": "string",
  "category": "string",
  "dataFormat": [
    "string"
  ]
}

```

## 组件输出数据

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|形式参数名称|跟算法容器的环境变量相对应|
|description|string|false|none|数据描述信息|none|
|category|string|true|none|数据类型|model、dataset、training_set、test_set、report、metric|
|dataFormat|[string]|true|none|数据文件格式|数组类型。如：["csv","pmml","json","yaml","zip"]|

<h2 id="tocS_InputData">InputData</h2>

<a id="schemainputdata"></a>
<a id="schema_InputData"></a>
<a id="tocSinputdata"></a>
<a id="tocsinputdata"></a>

```json
{
  "name": "string",
  "description": "string",
  "category": "string",
  "dataFormat": [
    "string"
  ]
}

```

## 组件输入数据

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|形式参数名称|跟算法容器的环境变量相对应|
|description|string|false|none|数据描述信息|none|
|category|string|true|none|数据类型|model、dataset、training_set、test_set、datasets（多个数据文件）|
|dataFormat|[string]|true|none|数据文件格式|数组类型。如：["csv","pmml","json","yaml","zip"]|

<h2 id="tocS_InputParam">InputParam</h2>

<a id="schemainputparam"></a>
<a id="schema_InputParam"></a>
<a id="tocSinputparam"></a>
<a id="tocsinputparam"></a>

```json
{
  "name": "string",
  "title": "string",
  "description": "string",
  "type": "string",
  "bindingData": [
    {}
  ],
  "optional": true,
  "defaultValue": "string",
  "validator": "string",
  "dependsOn": [
    "string"
  ],
  "UIPattern": "string",
  "groupTag": [
    "string"
  ],
  "UIType": "string"
}

```

## 组件算法输入参数

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|形式参数名称|跟算法容器的环境变量相对应|
|title|string|true|none|页面显示字段标题|none|
|description|string|false|none|参数描述|none|
|type|string|true|none|输入参数类型|string：字符串类型 int: 整数类型 float: 浮点数类型 boolean: 布尔类型 integer: 整型对象，可以为null number: 数值型，包括整数和小数（当不具体区分整型和浮点型时采用该种类型） object: 复杂类型,可以使用json表示,前端就具体的json数据结构可扩展相关控件。 ...等其他类型|
|bindingData|[object]|false|none|可枚举的静态绑定数据|可枚举的静态绑定数据,可以引用外部其它函数获取控件绑定的数据,如可渲染下拉菜单、单选框、多选框等的数据获取方式 例如1:静态绑定数据 bindingData:"[{label: "${label}",value: "${value}"}]",其中是可以执行的 kv Json，格式参考为kv数组。  例如2:动态绑定数据 bindingData:"call_function getKV()"。//定义一个调用的回调函数获取数据， 这里的call_function作为一个函数调用的标识符使用，解析执行器使用call_function作为标识符判断，用于与静态值区别， 后面的getKV()，解析执行器需要保障执行上下文中存在可调用的getKV()函数，getKV()的函数命名，在实际使用中，可自定义。|
|optional|boolean|true|none|参数是否可选|默认为true表示可选,false表示必填|
|defaultValue|string|false|none|参数默认值|none|
|validator|string|false|none|参数校验器|如可以写成 regular:'正则表达式',来做正则验证；使用（inf,sup）来对数值的上下界限进行限定|
|dependsOn|[string]|false|none|算法的条件参数|只用于bindingData,表示算法的条件参数，用于组件内部依赖关系展示,默认为空值。若依赖于上游参数，则提供依赖列表，如：["param.value",""]|
|UIPattern|string|false|none|参数的UI模式|默认为editeable,此外有readOnly表示只读,hidden,表示隐藏控件|
|groupTag|[string]|false|none|分组标签|用于分组显示,如[默认分组-显示、高级分组-默认不显示]|
|UIType|string|false|none|前端参数控件类型|默认为input,其它的比如textArea,numberPicker、checkbox、redio、switch、select、selectTree等|

<h2 id="tocS_response">response</h2>

<a id="schemaresponse"></a>
<a id="schema_response"></a>
<a id="tocSresponse"></a>
<a id="tocsresponse"></a>

```json
{
  "code": 0,
  "msg": "string",
  "data": {}
}

```

## 响应体

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|状态码|200正常，否则错误|
|msg|string|true|none|错误信息|none|
|data|object|true|none|响应数据内容|none|

<h2 id="tocS_Config">Config</h2>

<a id="schemaconfig"></a>
<a id="schema_Config"></a>
<a id="tocSconfig"></a>
<a id="tocsconfig"></a>

```json
{
  "version": "string",
  "initiator": {
    "role": "string",
    "node_id": "string"
  },
  "role": {
    "guest": [
      "string"
    ],
    "host": [
      "string"
    ],
    "arbiter": [
      "string"
    ]
  },
  "job_params": {
    "common": {},
    "guest": {},
    "host": {},
    "arbiter": {}
  },
  "task_params": {
    "common": {},
    "guest": {},
    "host": {},
    "arbiter": {}
  }
}

```

## 作业运行配置

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|version|string|true|none|版本信息|Config配置的版本信息|
|initiator|object|true|none|发起方节点信息|none|
|» role|string|true|none|节点角色|guest、host、arbiter等等|
|» node_id|string|true|none|节点ID|none|
|role|object|true|none|参与方节点集合|none|
|» guest|[string]|true|none|guest节点|none|
|» host|[string]|true|none|host节点|none|
|» arbiter|[string]|true|none|arbiter节点|none|
|job_params|object|true|none|作业参数配置|none|
|» common|object|true|none|节点间共用参数配置|none|
|» guest|object|true|none|guest节点参数配置|key为从0开始的序号|
|» host|object|true|none|host节点参数配置|key为从0开始的序号|
|» arbiter|object|true|none|arbiter节点参数配置|key为从0开始的序号|
|task_params|object|true|none|任务参数配置|none|
|» common|object|true|none|节点间共用参数配置|none|
|» guest|object|true|none|guest节点参数配置|key为从0开始的序号|
|» host|object|true|none|host节点参数配置|key为从0开始的序号|
|» arbiter|object|true|none|arbiter节点参数配置|none|

<h2 id="tocS_DAG">DAG</h2>

<a id="schemadag"></a>
<a id="schema_DAG"></a>
<a id="tocSdag"></a>
<a id="tocsdag"></a>

```json
{
  "version": "string",
  "components": [
    {
      "name": "string",
      "code": "string",
      "version": "string",
      "module_name": "string",
      "input": [
        {
          "key": "string",
          "type": "string"
        }
      ],
      "output": [
        {
          "key": "string",
          "type": "string"
        }
      ]
    }
  ]
}

```

## 流程组合配置

属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|version|string|true|none|版本|DAG配置版本信息|
|components|[object]|true|none|组件列表|所有组件集合|
|» name|string|true|none|组件名称|none|
|» code|string|true|none|组件编码|none|
|» version|string|true|none|组件版本|none|
|» module_name|string|true|none|模块名称|组件对应的模块名称|
|» input|[object]|true|none|组件输入信息|none|
|»» key|string|true|none|输入名称|none|
|»» type|string|true|none|输入类型|none|
|» output|[object]|true|none|组件输出信息|none|
|»» key|string|true|none|输出名称|none|
|»» type|string|true|none|输出类型|none|

